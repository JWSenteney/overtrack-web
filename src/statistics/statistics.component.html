<div class="jumbotron overview view banner hanamura" style="padding-bottom: 10px;">
    <div class="container">                      
        <h1>Statistics</h1>
    </div>
</div>


<div class="container overview view">

    <div class="row col-md-12">
        <div id="gametable" class="panel with-nav-tabs panel-default">
            <div class="panel-heading">
                <ul class="nav nav-tabs">
                    <li class="{{ gamesLists && gamesLists.length > 1 ? '' : 'hidden' }}" ><b>Accounts:</b></li>
                    <li class="{{ gamesLists && gamesLists.length > 1 ? '' : 'hidden' }} {{f ? 'active' : ''}}" 
						*ngFor="let games of gamesLists; let f = first;">
						<a (click)="calcWinrates(games.list)" href="#{{ playerHref(games) }}" data-toggle="tab">{{ games.player }}</a>
					</li>
                </ul>
            </div>
            <div class="tab-graph tab-pane active winrate-area" *ngIf="mapList">
				<div class="center">
					<button class="multi-choice {{singleMap === activeMap ? 'active' : ''}}" *ngFor="let singleMap of mapList;"
						(click)="renderMapStats(singleMap)">
						{{singleMap}}
					</button>
				</div>
				<div class="center" *ngIf="mapList2" style="margin-top: -1px;">
					<button class="multi-choice {{singleMap === activeMap ? 'active' : ''}}" *ngFor="let singleMap of mapList2;"
						(click)="renderMapStats(singleMap)">
						{{singleMap}}
					</button>
				</div>
				
				<h2 class="center">{{activeMap | uppercase}}</h2>
				<div class="center row" style="font-size: 16px; font-weight: bold;">
					<div class="col-md-3">
					</div>
					<div class="col-xs-4 col-md-2 text-success">
						WON<br>{{mapStats.get(activeMap).gamesWon}}
					</div>
					<div class="col-xs-4 col-md-2 text-warning">
						TIED<br>{{mapStats.get(activeMap).gamesTied}}
					</div>
					<div class="col-xs-4 col-md-2 text-danger">
						LOST<br>{{mapStats.get(activeMap).gamesLost}}
					</div>
					<div class="col-md-3">
					</div>
				</div>
				
				<div class="center" style="margin-top:15px;">
					<button class="btn btn-sm btn-primary" (click)="toggleAllHeroes()">
						{{showAllHeroes ? 'Hide Heroes with less than 5% playtime' : 'Show All Heroes'}}
					</button>
				</div>
			
				<div class="row">
					<div class="col-md-6">
						<h3 class="center no-margin-top">
							Winrate: {{ getWinrate() }}%
						</h3>
						<div *ngFor="let nextName of heronamesOrderedByWR"
							class="hero-row {{!showAllHeroes && ((mapStats.get(activeMap).timeplayed / lfhp) > 
								mapStats.get(activeMap).heroWinrates.get(nextName).timeplayed) ? 'hidden' : ''}}">
							<div class="hero-img">
							</div>
							<div class="progress">
								<div class="progress-bar progress-bar-{{nextName}}" role="progressbar" valuemin="0" valuemax="100"
									[style.width]="getHeroWinrate(nextName)+'%'">
									<span class="hero-name">{{ nextName | uppercase }}</span>
									<span class="percentage">{{ getHeroWinrate(nextName).toFixed(2) }}%</span>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<h3 class="center no-margin-top">Time Played: {{formatTime(mapStats.get(activeMap).timeplayed)}}</h3>
						<div *ngFor="let nextName of heronamesOrderedByTime"
							class="hero-row {{!showAllHeroes && ((mapStats.get(activeMap).timeplayed / lfhp) > 
								mapStats.get(activeMap).heroWinrates.get(nextName).timeplayed) ? 'hidden' : ''}}">
							<div class="hero-img">
							</div>
							<div class="progress">
								<div class="progress-bar progress-bar-{{nextName}}" role="progressbar" valuemin="0" valuemax="100"
									[style.width]="getHeroPlayrate(nextName)+'%'">
									<span class="hero-name">{{ nextName | uppercase }}</span>
									<span class="percentage">{{formatTime(mapStats.get(activeMap).heroWinrates.get(nextName).timeplayed)}}</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
        </div>
    </div>
	
    <hr/>

</div>